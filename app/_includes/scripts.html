<!-- build:js({app,.tmp}) /assets/js/app.js -->
<script src="/_bower_components/jquery/jquery.js"></script>
<script src="/assets/js/app.js"></script>
<!-- endbuild -->


<script>
/// Random Planes ///

$(document).ready(function () {
    var planes = ['p1', 'p2', 'p3', 'p4', 'p5'];
    var funk = Math.floor(Math.random() * planes.length);
    $('#plane').removeClass().addClass(planes[funk]);
});


/// Menu ///

$(document).ready(function() {
                  
$('li.products, li.services').on('mouseenter', function(){
  var link = this.getAttribute('class');
  $('#products, #services').removeClass();
  $('#'+link).addClass('active');
  closeMenus(1500);
});

closeMenus(1500);

function closeMenus(delay){
  $('#products, #services').off().on('mouseleave', function(){
    setTimeout(function(){
       $('#products, #services').removeClass();
    }, delay);
    console.log('fired');
  });
}
});


/// Slider ///

$('#fader img:gt(0)').hide();

setInterval(function(){
  $('#fader img:first-child')
  .fadeOut('fast', function(){
    $('#fader :first-child')
    .next('img')
    .fadeIn('fast')
    .end()
    .appendTo('#fader');
  });
}, 4000);


/// Clocks ///

$(function() {
  setInterval(function(){
    var dt = new Date();
    //$('.time').text(dt);
  
    var sec_deg = dt.getSeconds() * (360/60);
    var min_deg = dt.getMinutes() * (360/60);

    // D
    var hr_deg = dt.getHours() * (360/12) + dt.getMinutes() * (360/60/12); 
    
    // HK
    var hr_deg_hk = (dt.getHours() + 7) * (360/12) + dt.getMinutes() * (360/60/12); 

    // NY
    var hr_deg_ny = (dt.getHours() - 5) * (360/12) + dt.getMinutes() * (360/60/12); 
    
    
    $('.clock .second-hand').css({'-webkit-transform':'rotate(' + sec_deg + 'deg)', '-moz-transform':'rotate(' + sec_deg + 'deg)', '-o-transform':'rotate(' + sec_deg + 'deg)', '-ms-transform':'rotate(' + sec_deg + 'deg)', 'transform':'rotate(' + sec_deg  + 'deg)'});

    $('.clock .minute-hand').css({'-webkit-transform':'rotate(' + min_deg + 'deg)', '-moz-transform':'rotate(' + min_deg + 'deg)', '-o-transform':'rotate(' + min_deg + 'deg)', '-ms-transform':'rotate(' + min_deg + 'deg)', 'transform':'rotate(' + min_deg + 'deg)'});

    // D
    $('.clock-d .hour-hand').css({'-webkit-transform':'rotate(' + hr_deg + 'deg)', '-moz-transform':'rotate(' + hr_deg + 'deg)', '-o-transform':'rotate(' + hr_deg + 'deg)', '-ms-transform':'rotate(' + hr_deg + 'deg)', 'transform':'rotate(' + hr_deg + 'deg)'});
    
     // HK    
     $('.clock-hk .hour-hand').css({'-webkit-transform':'rotate(' + hr_deg_hk + 'deg)', '-moz-transform':'rotate(' + hr_deg_hk + 'deg)', '-o-transform':'rotate(' + hr_deg_hk + 'deg)', '-ms-transform':'rotate(' + hr_deg_hk + 'deg)', 'transform':'rotate(' + hr_deg_hk + 'deg)'});
     
     // NY   
     $('.clock-ny .hour-hand').css({'-webkit-transform':'rotate(' + hr_deg_ny + 'deg)', '-moz-transform':'rotate(' + hr_deg_ny + 'deg)', '-o-transform':'rotate(' + hr_deg_ny + 'deg)', '-ms-transform':'rotate(' + hr_deg_ny + 'deg)', 'transform':'rotate(' + hr_deg_ny + 'deg)'});
    
  
  }, 1000);
});

</script>


